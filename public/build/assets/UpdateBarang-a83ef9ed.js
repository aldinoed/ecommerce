import{r as t,j as e,b as I}from"./app-86af9291.js";/* empty css           */import"./bootstrap.bundle.min-9c9c78cc.js";import{u as P}from"./useCsrfToken-a4379419.js";import{u as w}from"./index-f91e988f.js";function L(){const[E,o]=t.useState(""),[G,c]=t.useState(""),{productName:i}=w();t.useEffect(()=>{axios.get("/api/products-data/"+i+"/update").then(a=>{o(a.data.product),c(a.data.media),console.log(a.data)}).catch(a=>console.log(`Error fetching data: ${a}`))},[]);const{token:s}=P(),[d,m]=t.useState(""),[u,p]=t.useState(""),[h,x]=t.useState(""),[n,f]=t.useState(""),[l,g]=t.useState(""),[r,j]=t.useState(""),[b,v]=t.useState(""),[N,y]=t.useState([]);t.useEffect(()=>{axios.get("/api/categories-data").then(a=>{y(a.data.categories)}).catch(a=>{console.log("Error fetching data: ",a)})},[]);const[k,S]=t.useState([]);t.useEffect(()=>{axios.get("/api/brands-data").then(a=>{S(a.data.brands)}).catch(a=>{alert("Error fetching data: ",a)})});const F=async()=>{console.log(r);const a=new FormData;a.append("name",d),a.append("desc",u),a.append("cat",n),a.append("brand",l),a.append("image",h),a.append("price",b),a.append("amount",r),await axios.post("/api/input-produk",a,{headers:{"Content-Type":"multipart/form-data"}})&&alert("Berhasil input data produk")},C=async a=>{a.preventDefault(),await F()};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Input Produk",children:e.jsx("meta",{name:"csrf-token",content:s})}),e.jsx("div",{className:"p-3 mb-2  mt-5",children:e.jsx("div",{className:"align-self-center ",children:e.jsxs("form",{style:{maxHeight:"80vh !important",maxWidth:"60%"},className:"p-4 m-auto shadow rounded bg-white ",method:"POST",action:"/input-produk",encType:"multipart/form-data",onSubmit:C,children:[e.jsx("input",{type:"hidden",value:s,name:"_token"}),e.jsx("p",{className:"text-center fs-2",children:"Update Data Produk"}),e.jsxs("div",{className:"overflow-y-scroll overflow-x-hidden",style:{maxHeight:"63vh"},children:[e.jsx("div",{className:"row mt-3 d-flex justify-content-center",style:{maxHeight:"40vh"},children:e.jsx("div",{className:"col-md",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:" floatingInputGrid",children:"Nama Barang"}),e.jsx("input",{type:"text",className:"form-control",id:"floatingInputGrid",name:"name",placeholder:"",onChange:a=>m(a.target.value)})]})})}),e.jsx("div",{className:"row mt-3 d-flex justify-content-center",children:e.jsx("div",{className:"col-md",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:" floatingInputGrid",children:"Deskripsi Produk"}),e.jsx("textarea",{type:"text",className:"form-control",id:"floatingInputGrid",name:"desc",placeholder:"",onChange:a=>p(a.target.value)})]})})}),e.jsxs("div",{className:"d-flex mt-3",children:[e.jsxs("div",{className:"col-sm-5",children:[e.jsx("label",{htmlFor:" floatingInputGrid",children:"Kategori Produk"}),e.jsx("div",{className:"",children:e.jsxs("select",{className:"form-select form-select","aria-label":"Large select example",name:"cat",value:n,onChange:a=>f(a.target.value),children:[e.jsx("option",{selected:!0,children:"Select"}),N.map(a=>e.jsx("option",{value:a.category_id,children:a.category_name},a.category_id))]})})]}),e.jsxs("div",{className:"col-sm-5 ps-4",children:[e.jsx("label",{htmlFor:" floatingInputGrid",children:"Brand Produk"}),e.jsx("div",{className:"",children:e.jsxs("select",{className:"form-select form-select","aria-label":"Large select example",name:"brand",value:l,onChange:a=>g(a.target.value),children:[e.jsx("option",{selected:!0,children:"Select"}),k.map(a=>e.jsx("option",{value:a.brand_id,children:a.brand_name},a.brand_id))]})})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{htmlFor:" floatingInputGrid",children:"Jumlah"}),e.jsx("input",{className:"form-control",type:"number",placeholder:"","aria-label":"",name:"amount",onChange:a=>j(a.target.value)})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{htmlFor:" floatingInputGrid",children:"Harga Produk"}),e.jsx("input",{className:"form-control",name:"price",type:"number",placeholder:"","aria-label":"",onChange:a=>v(a.target.value)})]}),e.jsxs("div",{className:"mb-3 mt-3",children:[e.jsx("label",{htmlFor:"formFileMultiple",className:"form-label text-secondary",children:"Masukkan Foto Produk"}),e.jsx("input",{className:"form-control",type:"file",id:"formFileMultiple",multiple:!0,name:"image",onChange:a=>x(a.target.files[0])})]})]}),e.jsxs("div",{className:"d-flex mx-auto",children:[e.jsx("input",{className:"btn btn-primary me-2",type:"submit",value:"Submit",name:"submit"}),e.jsx("input",{className:"btn btn-danger",type:"reset",value:" Clear "}),e.jsx("button",{type:"reset",className:"btn btn-secondary  tombol",style:{marginLeft:"10px"},children:e.jsx("a",{href:"/admin/produk",className:"text-white",style:{textDecoration:"none"},children:" Back "})})]})]})})})]})}export{L as default};
